# Generated by Django 4.2.19 on 2025-05-08 14:03

from django.db import migrations


def add_existing_projects_layer(apps, schema_editor):
    """
    Inserts the "Existing Fire Projects (CA)" datalayer
    """
    DataLayer = apps.get_model("datasets", "DataLayer")

    DataLayer.objects.create(
        name="Existing Projects (CA)",
        dataset_id=999,  # BaseLayers
        category_id=998,  # Disturbances
        type="VECTOR",
        storage_type="EXTERNAL_SERVICE",
        map_service_type="ESRI_GEOJSON",
        url=(
            "https://services1.arcgis.com/"
            "jUJYIo9tSA7EHvfZ/ArcGIS/rest/services/"
            "CMDash_v3_view/FeatureServer/2"
        ),
        status="READY",
        created_by_id=1,
        organization_id=1,  # Spatial Informatics Group
    )


class Migration(migrations.Migration):
    dependencies = [
        ("datasets", "0016_add_map_service_type"),
    ]

    operations = [
        migrations.RunPython(add_existing_projects_layer, migrations.RunPython.noop),
    ]
