<!-- We display the title and the list of options, if it is Multiple we display checkboxes -->

<!--Expansion panel -->
<div
  class="list-header"
  (click)="expanded = !expanded"
  [class.expanded]="expanded">
  <div class="label">
    {{ categorizedBaseLayer.category.name }}
  </div>
  <i class="material-symbols-outlined">{{
    expanded ? 'expand_more' : 'chevron_right'
  }}</i>
</div>
<div class="list-content" *ngIf="expanded">
  <ng-container
    *ngIf="categorizedBaseLayer?.category.isMulti; else singleSelect">
    <div
      *ngFor="let layer of categorizedBaseLayer.layers"
      class="checkbox-option">
      <label class="checkbox-label">
        <input
          type="checkbox"
          [value]="layer.id"
          [checked]="isLayerSelected(layer)"
          (change)="onCheckboxChange(layer, $event)" />
        <span>{{ layer.name }}</span>
      </label>
    </div>
  </ng-container>
  <ng-template #singleSelect>
    <div *ngFor="let layer of categorizedBaseLayer.layers" class="radio-option">
      <label class="radio-label">
        <input
          type="radio"
          name="baseLayer"
          [value]="layer.id"
          (change)="onLayerChange(layer)" />
        <span>{{ layer.name }}</span>
      </label>
    </div>
  </ng-template>
</div>
