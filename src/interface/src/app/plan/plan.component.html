<app-nav-bar
  (goBack)="goBack()"
  [breadcrumbs]="(breadcrumbs$ | async) || []"
  *featureFlag="'new_navigation'"></app-nav-bar>
<div class="root-container" [ngClass]="{ 'with-navbar': hasNewNavigation }">
  <app-plan-unavailable *ngIf="planNotFound"></app-plan-unavailable>
  <ng-container *ngIf="currentPlan$ | async">
    <div class="plan-summary-panel" *ngIf="showOverview$ | async">
      <summary-panel
        [plan]="currentPlan$ | async"
        [owner]="planOwner$ | async"></summary-panel>
    </div>
    <mat-divider [vertical]="true" *ngIf="showOverview$ | async"></mat-divider>
    <div class="plan-content">
      <ng-container *featureFlag="'new_navigation'; hide: true">
        <app-plan-navigation-bar
          (backToOverviewEvent)="backToOverview()"
          *ngIf="!(showOverview$ | async)"></app-plan-navigation-bar>
      </ng-container>

      <div class="plan-content-inner">
        <app-plan-overview
          [plan$]="currentPlan$"
          *ngIf="showOverview$ | async"></app-plan-overview>
      </div>
    </div>
  </ng-container>
</div>
