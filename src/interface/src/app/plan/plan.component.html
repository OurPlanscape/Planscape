<app-nav-bar
  (goBack)="goBack()"
  [breadcrumbs]="(breadcrumbs$ | async) || []"></app-nav-bar>
<div class="root-container">
  <app-plan-unavailable *ngIf="planNotFound"></app-plan-unavailable>
  <ng-container *ngIf="currentPlan$ | async">
    <div class="plan-summary-panel" *ngIf="showOverview$ | async">
      <app-summary-panel
        [plan]="currentPlan$ | async"
        [owner]="planOwner$ | async"></app-summary-panel>
    </div>
    <mat-divider [vertical]="true" *ngIf="showOverview$ | async"></mat-divider>
    <div class="plan-content">
      <div class="plan-content-inner">
        <app-plan-overview
          [plan$]="currentPlan$"
          *ngIf="showOverview$ | async"></app-plan-overview>
        <ng-container *ngIf="!(showOverview$ | async)">
          <div class="plan-map-container">
            <app-plan-map
              [plan]="currentPlan$ | async"
              [mapId]="'planning-map'"
              [mapPadding]="[700, 0]"
              [configPage]="true"></app-plan-map>
          </div>
          <div class="plan-content-panel">
            <router-outlet #outlet="outlet"></router-outlet>
          </div>
        </ng-container>
      </div>
    </div>
  </ng-container>
</div>
