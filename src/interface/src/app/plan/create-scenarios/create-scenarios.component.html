<div class="create-scenarios-panel mat-elevation-z2"
  [@expandCollapsePanel]="panelExpanded ? 'expanded' : 'collapsed'">
  <div class="create-scenarios-panel-content"
    [@expandCollapsePanelContent]="panelExpanded ? 'opaque' : 'transparent'">

    <mat-stepper orientation="vertical" class="stepper"
      (selectionChange)="selectedStepChanged($event)">

      <!-- Step 1: Select condition score -->
      <mat-step #step1>
        <ng-template matStepLabel>
          <div class="step-label-header">
            Select condition score
          </div>
        </ng-template>
        <app-create-scenarios-intro></app-create-scenarios-intro>
      </mat-step>

      <!-- Step 2: Set constraints -->
      <mat-step #step2>
        <ng-template matStepLabel>
          <div class="step-label-header">Set constraints</div>
          <div class="step-label-description" *ngIf="!stepStates[1].opened">
            Constraints will be used to inform project areas and scenario options.
          </div>
        </ng-template>
        <app-constraints-panel (changeConstraintsEvent)="changeConstraintsEvent.emit($event)">
        </app-constraints-panel>
      </mat-step>

      <!-- Step 3: Select priorities -->
      <mat-step>
        <ng-template matStepLabel>
          <div class="step-label-header">Select priorities</div>
          <div class="step-label-description" *ngIf="!stepStates[2].opened">
            Data from selected priorities inform optimization of project areas for desired impact.
          </div>
          <div class="step-label-description" *ngIf="stepStates[2].complete">
            XX priorities selected
          </div>
        </ng-template>
        <app-set-priorities (changeConditionEvent)="changeConditionEvent.emit($event)"
          (changePrioritiesEvent)="changePrioritiesEvent.emit($event)" [plan$]="plan$">
        </app-set-priorities>
      </mat-step>

      <!-- Step 4: Generate scenario(s) -->
      <mat-step>
        <ng-template matStepLabel>
          <div class="step-label-header">Generate scenario(s)</div>
        </ng-template>
      </mat-step>

      <!-- Step 5: View scenario(s) -->
      <mat-step>
        <ng-template matStepLabel>
          <div class="step-label-header">View scenario(s)</div>
        </ng-template>
      </mat-step>
    </mat-stepper>
  </div>

  <!-- Expand/collapse button -->
  <div class="create-scenarios-panel-expand-button" [class.collapsed]="!panelExpanded"
    [@expandCollapseButton]="panelExpanded ? 'colorA': 'colorB'">
    <button mat-icon-button (click)="panelExpanded = !panelExpanded">
      <mat-icon>chevron_left</mat-icon>
    </button>
  </div>
</div>
