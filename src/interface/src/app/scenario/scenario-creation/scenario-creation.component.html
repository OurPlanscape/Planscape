<div class="scenario-name">
  <!-- Scenario name input -->
  <form *ngIf="form.get('scenarioName')" [formGroup]="form!">
    <mat-form-field class="scenario-name-input">
      <input
        formControlName="scenarioName"
        matInput
        placeholder="Scenario Name:" />
    </mat-form-field>
  </form>
  <!-- Scenario name errors -->
  <div
    *ngIf="
      form.get('scenarioName')?.invalid &&
      form.get('scenarioName')?.touched &&
      form.get('scenarioName')?.errors?.['required']
    "
    class="error">
    Please enter scenario name above
  </div>
  <div *ngIf="form.get('scenarioName')?.errors?.['duplicate']" class="error">
    This name is already used by another scenario.
  </div>
</div>
<mat-tab-group
  #tabGroup
  mat-stretch-tabs="false"
  mat-align-tabs="start"
  class="scenario-tabs">
  <mat-tab label="Configurations">
    <sg-steps
      linear
      finishLabel="Save & Run Scenario"
      [save]="saveStep.bind(this)"
      (selectedIndexChange)="stepChanged()"
      (finished)="onFinish()"
      [outerForm]="form">
      <sg-step>
        <app-step1 #step1></app-step1>
      </sg-step>
      <cdk-step> </cdk-step>
      <sg-step>
        <app-step3 #step3></app-step3>
      </sg-step>
      <sg-step
        ><app-treatment-target-step
          #step4
          [planningAreaAcres]="
            (acres$ | async) ?? 0
          "></app-treatment-target-step
      ></sg-step>
    </sg-steps>
  </mat-tab>
  <mat-tab label="Data Layers">
    <app-data-layers class="white-background"></app-data-layers>
  </mat-tab>
</mat-tab-group>
