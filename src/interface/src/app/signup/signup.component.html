<div class="signup-root">
  <div class="info-card-container">
    <div class="info-card">
      <h3><b>With a Planscape account, you can:</b></h3>

      <ul>
        <li>
          <h3>Save planning areas</h3>
        </li>
        <li>
          <h3>Create plans, configurations, and scenarios</h3>
        </li>
        <li>
          <h3>Download shapefiles & metadata</h3>
        </li>
        <li>
          <h3>Share work with collaborators</h3>
        </li>
      </ul>

      <h3><b>As a guest user, you can:</b></h3>

      <ul>
        <li>
          <h3>Explore regional data on the map</h3>
        </li>
        <li>
          <h3>View plans and/or scenarios that are publicly visible*</h3>
        </li>
      </ul>

      <p><i>*Accessible only via direct links</i></p>
    </div>
  </div>

  <div class="signup-form-container">
    <div class="signup-form">
      <h1 class="signup-title">Create your account</h1>

      <form [formGroup]="form" (ngSubmit)="signup()">
        <mat-form-field appearance="fill">
          <mat-label>First name</mat-label>
          <input type="text" required formControlName="firstName" matInput />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Last name</mat-label>
          <input type="text" required formControlName="lastName" matInput />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input type="text" required formControlName="email" matInput />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Create password</mat-label>
          <input
            (focus)="showPolicy()"
            (blur)="hidePolicy()"
            type="password"
            required
            formControlName="password1"
            matInput />
        </mat-form-field>
        <div #policyBox id="policyBox" style="display: block">
          <div class="tooltip">
            <div>
              <p>Password requirements:</p>
              <ul>
                <li>Must be at least 8 characters.</li>
                <li>Cannot be a password that you've used before.</li>
                <li>Cannot be similar to your name or email address.</li>
              </ul>
            </div>
          </div>
        </div>

        <mat-form-field appearance="fill">
          <mat-label>Confirm password</mat-label>
          <input
            type="password"
            required
            formControlName="password2"
            matInput />
        </mat-form-field>

        <mat-error *ngIf="form.errors || errors.length > 0">
          <p>Please correct the following errors:</p>
          <ul>
            <li *ngFor="let e of errors">
              {{ e }}
            </li>
            <li *ngIf="form.errors?.['mustBe8Characters']">
              Password must contain at least 8 characters.
            </li>
            <li *ngIf="form.errors?.['newPaswordsMustMatch']">
              The new passwords you entered do not match.
            </li>
            <li *ngIf="form.errors?.['newPasswordMustBeNew']">
              Your new password should not be the same as your current password.
            </li>
            <li *ngIf="form.errors?.['mustContainNumber']">
              Your new password must contain a number.
            </li>
            <li *ngIf="form.errors?.['mustContainUpper']">
              Your new password must contain at least one uppercase character.
            </li>
            <li *ngIf="form.errors?.['mustContainLower']">
              Your new password must contain at least one lowercase character.
            </li>
          </ul>
        </mat-error>

        <button
          mat-flat-button
          type="submit"
          color="primary"
          [disabled]="!form.valid || submitting">
          {{ submitting ? 'Please wait...' : 'Create account' }}
        </button>
      </form>
    </div>
  </div>
</div>
