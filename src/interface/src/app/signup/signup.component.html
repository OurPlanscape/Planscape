<div class="signup-root">
  <div class="info-card-container">
    <div class="info-card">
      <h3><b>With a Planscape account, you can:</b></h3>

      <ul>
        <li>
          <h3>Save planning areas</h3>
        </li>
        <li>
          <h3>Create plans, configurations, and scenarios</h3>
        </li>
        <li>
          <h3>Download shapefiles & metadata</h3>
        </li>
        <li>
          <h3>Share work with collaborators</h3>
        </li>
      </ul>

      <h3><b>As a guest user, you can:</b></h3>

      <ul>
        <li>
          <h3>Explore regional data on the map</h3>
        </li>
        <li>
          <h3>View plans and/or scenarios that are publicly visible*</h3>
        </li>
      </ul>

      <p><i>*Accessible only via direct links</i></p>
    </div>
  </div>

  <div class="signup-form-container">
    <div class="signup-form">
      <h1 class="signup-title">Create your account</h1>

      <form [formGroup]="form" (ngSubmit)="signup()">
        <mat-form-field appearance="fill">
          <mat-label>First name</mat-label>
          <input type="text" required formControlName="firstName" matInput />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Last name</mat-label>
          <input type="text" required formControlName="lastName" matInput />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Email</mat-label>
          <input type="text" required formControlName="email" matInput />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Create password</mat-label>
          <input
            type="password"
            required
            formControlName="password1"
            matInput />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Confirm password</mat-label>
          <input
            type="password"
            required
            formControlName="password2"
            matInput />
        </mat-form-field>

        <div></div>

        <div #policyBox id="policyBox">
          <div>
            <div>
              Password Requirements
              <div
                *ngIf="form.errors?.['mustBe8Characters']"
                style="color: red">
                <mat-icon class="warning-icon">warning</mat-icon>
                Password must contain at least 8 characters.
              </div>
              <div
                *ngIf="form.errors?.['mustBe8Characters'] === false"
                style="color: green">
                <mat-icon class="done-icon">done</mat-icon>
                Password must contain at least 8 characters.
              </div>
              <div *ngIf="form.errors?.['mustBe8Characters'] === null">
                - Password must contain at least 8 characters.
              </div>

              <div
                *ngIf="form.errors?.['mustContainNumber']"
                style="color: red">
                <mat-icon class="warning-icon">warning</mat-icon>
                Your new password must contain a number.
              </div>
              <div
                *ngIf="form.errors?.['mustContainNumber'] === false"
                style="color: green">
                <mat-icon class="done-icon">done</mat-icon>
                Your new password must contain a number.
              </div>
              <div *ngIf="form.errors?.['mustContainNumber'] === null">
                - Your new password must contain a number.
              </div>

              <div *ngIf="form.errors?.['mustContainUpper']" style="color: red">
                <mat-icon class="warning-icon">warning</mat-icon>
                Your new password must contain at least one uppercase character.
              </div>
              <div
                *ngIf="form.errors?.['mustContainUpper'] === false"
                style="color: green">
                <mat-icon class="done-icon">done</mat-icon>
                Your new password must contain at least one uppercase character.
              </div>
              <div *ngIf="form.errors?.['mustContainUpper'] === null">
                - Your new password must contain at least one uppercase
                character.
              </div>

              <div *ngIf="form.errors?.['mustContainLower']" style="color: red">
                <mat-icon class="warning-icon">warning</mat-icon>
                Your new password must contain at least one uppercase character.
              </div>
              <div
                *ngIf="form.errors?.['mustContainLower'] === false"
                style="color: green">
                <mat-icon class="done-icon">done</mat-icon>
                Your new password must contain at least one lowercase character.
              </div>
              <div *ngIf="form.errors?.['mustContainLower'] === null">
                - Your new password must contain at least one lowercase
                character.
              </div>
            </div>
          </div>
          <mat-error *ngIf="form.errors || errors.length > 0">
            <p>Please correct the following errors:</p>
            <div *ngFor="let e of errors">
              <mat-icon class="warning-icon">warning</mat-icon>
              {{ e }}
            </div>
            <div *ngIf="form.errors?.['newPaswordsMustMatch']">
              The new passwords you entered do not match.
            </div>
          </mat-error>
        </div>

        <button
          mat-flat-button
          type="submit"
          color="primary"
          [disabled]="!form.valid || submitting">
          {{ submitting ? 'Please wait...' : 'Create account' }}
        </button>
      </form>
    </div>
  </div>
</div>
