<mgl-map
  [id]="'map_' + mapNumber"
  [boxZoom]="false"
  [dragRotate]="false"
  [interactive]="true"
  [maxZoom]="maxZoom"
  [minZoom]="minZoom"
  [pitchWithRotate]="false"
  [fitBounds]="(bounds$ | async) || undefined"
  (mapLoad)="mapLoaded($event)"
  [style]="(baseLayerUrl$ | async) || ''"
  [attributionControl]="false"
  [transformRequest]="transformRequest"
  [ngClass]="{
    'highlighted-map': showMapNumber && (isSelected$ | async) === true,
  }">
  <app-map-base-layers
    *ngIf="mapLibreMap"
    [mapLibreMap]="mapLibreMap"></app-map-base-layers>

  <app-map-data-layer
    *ngIf="mapLibreMap"
    [mapLibreMap]="mapLibreMap"></app-map-data-layer>

  <mgl-layer
    type="background"
    id="bottom-layer"
    [layout]="{ visibility: 'none' }">
  </mgl-layer>

  <mgl-control position="bottom-left" *ngIf="showMapNumber">
    <div class="label" [class.selected-map]="(isSelected$ | async) === true">
      Map {{ mapNumber }}
    </div>
  </mgl-control>
</mgl-map>
